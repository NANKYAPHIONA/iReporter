<!DOCTYPE <!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>iReporter</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="main.css" />
</head>
<body>

    <nav class="nav_bar" id="nav_bar-2">

        <header class="logo" id="logo-1">
            <a href="redflag.html">
                 <img src="images/redflag.png" alt="redflag logo">
             </a>
        </header>
        <a href="redflag.html">Red flag</a>
        <a href="intervention.html" class="active">Intervention</a>
        <a href="myprofile.html"></i>My profile</a> 
         <hr>  
         
     </nav>
        <div class="content" id="content-1">

            <div class="records" id="records">
                <a href="view_inter.html">View all intervention</a>
                <a href="view_inter.html">Delete intervention</a>
            </div>

                <div class="create_post" id="create-1">
                    <p>You can create your intervention below</p>
                    <textarea class="form-control" placeholder="Enter your intervention" name="red_flag"></textarea>
                    
                  <div class="add_content" id="add_content-1">
                      <input type="file" onchange="previewFile()" value="Choose file">
                      <br>
                      <button onclick="geoFindMe()">Add Location</button></p>
                          <p id="out"></p>
                        <button type="submit" class="success">Submit</button>
                  </div>
                   
                </div>
                 
            </div>
            <script>
                function previewFile(){
                    var preview = document.querySelector('img');
                    var file = document.querySelector('input[type=file]').files[0];
                    var reader = new Filereader();
            
                    reader.onloaded = function(){
                        preview.src = reader.result;
                    }
                    if(file){
                        reader.readerAsDataURL(file);
                    }else{
                        preview.src = "";
                    }
                }
                previewFile();

                function geoFindMe(){
                    var output = document.getElementById("out");
                    if(!navigator.geolocation){
                        output.innerHTML = "<p>Geolocation is not supported by your browser</p>";
                        return;
                    }
                    function success(position){
                        var latitude = position.coords.latitude;
                        var longitude = position.coords.longitude;

                        output.innerHTML = '<p>Latitude is ' + latitude + '<br>Longitude is ' + longitude  + '</p>'
                    }
                    function error(){
                        output.innerHTML = "Unable to retrieve your location";
                    }
                    output.innerHTML = "<p>Locating....</p>";
                    navigator.geolocation.getCurrentPosition(success,error);
                }


               
  
            </script>            
</body>
</html>